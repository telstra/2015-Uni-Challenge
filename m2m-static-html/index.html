<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Telstra M2M Challenge</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/site.css" rel="stylesheet">
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <script type="text/javascript" src="assets/js/jquery.js"></script>
	<script type='text/javascript' src="https://www.google.com/jsapi"></script>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKk9SBIqz3HqHslD_VwWPagJVXW2PGpCE&sensor=true"> </script>
	<script type="text/javascript" src="assets/js/markerclusterer.js"></script>	
	<script type="text/javascript" src="assets/js/es5-shim.min.js"></script>
	<script type="text/javascript" src="assets/js/load_m2m_map.js"></script> <!-- Javascript to load teams on m2m map -->	
    <script src="assets/js/bootstrap-transition.js"></script>
    <script src="assets/js/bootstrap-alert.js"></script>
    <script src="assets/js/bootstrap-modal.js"></script>
    <script src="assets/js/bootstrap-dropdown.js"></script>
    <script src="assets/js/bootstrap-scrollspy.js"></script>
    <script src="assets/js/bootstrap-tab.js"></script>
    <script src="assets/js/bootstrap-tooltip.js"></script>
    <script src="assets/js/bootstrap-popover.js"></script>
    <script src="assets/js/bootstrap-button.js"></script>
    <script src="assets/js/bootstrap-collapse.js"></script>
    <script src="assets/js/bootstrap-carousel.js"></script>
    <script src="assets/js/bootstrap-typeahead.js"></script>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]> <script src="assets/js/html5shiv.js"></script> <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="assets/ico/favicon.png">	
	
    <style>
    </style>

    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="assets/ico/favicon.png">
    

    <!-- Syntax Highlighting --> 
    <link type="text/css" rel="Stylesheet" href="assets/css/shCore.css"/> 
    <link type="text/css" rel="Stylesheet" href="assets/css/shThemeDefault.css"/> 
    
    <!-- <link type="text/css" rel="Stylesheet" href="assets/css/shCoreDefault.css"/> 
    <link type="text/css" rel="Stylesheet" href="assets/css/shCoreRDark.css"/>
    --> 

    <script type="text/javascript" src="assets/js/shCore.js"></script>
    <script type="text/javascript" src="assets/js/shAutoloader.js"></script>
    <script type="text/javascript" src="assets/js/shBrushPython.js"></script>
    <script type="text/javascript" src="assets/js/shBrushBash.js"></script>
    <script type="text/javascript" src="assets/js/shBrushPlain.js"></script>
    <script type="text/javascript" src="assets/js/XRegExp.js"></script>
	
  </head>

  <body onload="initialize()">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">M2M@telstra</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="index.html">Getting Started</a></li>
			  <!--<li><a href="map.html">M2M Map</a></li>-->
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

      <h1>Getting Started</h1>
  
	  <h3> Table of Contents </h3>
		<ol>
			<li> Introduction </li>
			<ol type="i"> 
				<li><a href="#section1">Aim of this guide</a></li>
				<li><a href="#section2">Technical Document Scope & Support</a></li>
			</ol>
				<li> Setting up your Raspberry Pi&#174; </li>
				<ol type="i">
					<li><a href="#section3">Setting up your Raspberry Pi&#174; with a monitor and keyboard</a></li>
					<li><a href="#section4">Connect to the Internet</a></li>
					<li><a href="#section5">Download our sample client</a></li>
					<li><a href="#section6">Connect using the BigPond&#174; USB 4G mobile broadband dongle</a></li>
					<li><a href="#section7">Send GPS coordinates to the server and display your position on a Google map</a></li>
					<li><a href="#section8">Setup remote connection to your Raspberry Pi&#174; via SSH</a></li>
				</ol>
				<li> Setting up the Virtual Machine </li>
			<ol type="i">		
				<li> <a href="#s90">Get your VM</a></li>
				<li> <a href="#s91">Create an unprivileged user </a></li>
				<li> <a href="#s92">Installing and configuring your web server on your VM </a></li>
				<li> <a href="#s93">Clone the application server code to your VM</a> </li>
				<li> <a href="#s94">Build your webserver on your VM</a></li>
				<li> <a href="#s95">Send data from your Raspberry Pi&#174; to your VM</a></li>
			</ol>
			<li> Supporting Material </li>
			<ol type="i">	
				<li><a href="#section10">Telstra Wireless M2M Control Centre </a></li>
				<li><a href="#section11">Troubleshooting Guide </a></li>
				<ol type ="a">
					<li><a href="#s1">Using remote access for Raspberry Pi&#174; initial set up</a></li>
					<li><a href="#s2">Loading the Raspbian Operating System on a SD card</a></li>
					<li><a href="#s3">Configure your Raspberry Pi&#174;</a></li>
					<li><a href="#s4">Check serial port with Minicom</a></li>
					<li><a href="#s5">Trouble configuring your APN</a></li>
					<li><a href="#s6">Git, and first steps with a GitHub account</a></li>
					<li><a href="#s7">Attaching a RSA key to your GitHub account</a></li>
				</ol>
			</ol>
		</ol>
<ol>
<li><h3> Introduction </h3></li>		
<ol type="i">	
      <li> 
		  <h3> <a name ="section1">Aim of this guide </a></h3> 
	<p> Writing a Machine-To-Machine (M2M) application can be daunting.  The purpose of this tutorial is to step you through the setup of a Raspberry Pi&#174;, 
	BigPond&#174; USB 4G dongle, and Remote Virtual Machine (VM). This will assist you to become familiar with these components. By the end of this tutorial, 
	your Raspberry Pi&#174; will report its GPS co-ordinates to a virtual machine hosted at Telstra, and you will be able to modify the code on both the Raspberry Pi&#174; 
	and the VM.  You are free to use any of the code that Telstra provides, and please suggest bug fixes where necessary.</p>
	
	<p>Discussion and collaboration between teams is encouraged through the use of GitHub. Although it is important not to reveal your idea or solution, where there is 
	group benefit (e.g. improvements to the collaborative code provided by Telstra) then the teams are urged to contribute. GitHub will be introduced later.</p>
	
	<p>This tutorial will help you:</p>
	<ul>
		<li>Set up your Raspberry Pi&#174;;</li>
		<li>Get wireless connectivity working using a BigPond&#174; USB 4G dongle;</li>
		<li>Run the provided sample GPS client;</li>
		<li>Set up a VM server.</li>
	</ul>
      </li> 
	  <li>
		  <h3> <a name ="section2">Technical Document Scope & Support</a></h3> 
		  
		  <p>The diagram below shows the elements you will interact with during this tutorial. </p> 
            
          <ul> 
          <li> The <b> Raspberry Pi&#174; </b> is a small computer which has standard I/O ports to allow you to connect external devices that you may need for your solution. The <b> BigPond&#174; USB 4G </b> dongle provides wireless connectivity to transfer data.
          The BigPond&#174; USB 4G dongle has an inbuilt GPS, which during this tutorial, we will use to acquire and transmit GPS data. </li><br> 

          <li> A <b> VM server </b> inside Telstra's Cloud Lab running Linux, is provided to you to support your application being developed on the Raspberry Pi&#174;.  
		  In the example application, this VM server is configured to do two things:
                               <ol> 
                                   <li> Receive GPS co-ordinates, and team name submitted via JSON requests from the Raspberry Pi&#174; </li> 
                                   <li> Provide a complete list of GPS co-ordinates most recently received for each Raspberry Pi&#174; that has reported GPS data </li>
                               </ol> 
               <p>These two functions make it possible for the server to provide a map illustrating the locations of each of the devices. This is provided using Google Maps, which is hosted on the <a href = "http://www.telstra.com/universitychallenge"> M2M Challenge website</a>.</p><br>
          </li> 
          <li> <b> GitHub </b> is a website that allows you to share source code.  Telstra has a repository on GitHub that contains the Telstra example client collaborative code and example server code.</li> </ul>
		  <br>
		<img src="./assets/images/Scope.png" alt="scope" width="75%" height="75%">
		
	    <p>The Getting Started guide is written from the perspective of using a monitor and keyboard directly connected to the Raspberry Pi&#174;.  
		Alternatively you might prefer to set up the Raspberry Pi&#174; remotely by SSHing to the device.   One advantage of the former approach is that losing network connectivity does not affect your ability to configure the device.  
		This can be useful when starting out with the Raspberry Pi&#174;.  If you do choose to set up your Raspberry Pi&#174; over SSH, you might like to skip ahead to Section 2.ii: <a href ="#section4"> Connect to the internet </a> and refer to <a href ="#section8">Section 2.vi </a> for SSHing information if required and to the Troubleshooting section at the end <a href ="#s1">“Using remote access for Raspberry Pi® initial set up”</a>.</p>
		<p>During the pre-challenge period Telstra will provide support to teams to ensure they can complete the Getting Started guide, but no other technical support.  Once the challenge commences (15 July 2013) additional technical support is provided.  Technical questions can be shared via GitHub or emailed directly to Telstra via the <a href = "mailto:telstrauniversitychallenge@team.telstra.com">support email address</a>. </p>
	  </li>
	  </ol>
<li><h3> Setting up your Raspberry Pi&#174; </h3></li>
       <ol type ="i">
	   <li>	  
		  <h3><a name ="section3"> Setting up your Raspberry Pi&#174; with a monitor and keyboard</a></h3>	
		  
		   <p> Connect all the cables as shown in this <a href = "http://www.raspberrypi.org/quick-start-guide"> official quick start guide</a>.  The SD card provided has a copy of the required Raspbian Operating System ISO image written to it.</p>
		  
		<div class="alert alert-info">
		<strong>Note:</strong> A powered USB hub may be useful here.  We have found that the Raspberry Pi&#174; cannot drive a mouse, keyboard, and the BigPond&#174; USB 4G dongle simultaneously.  A powered USB hub can be used to get around this.
		</div>
		  	  
		   <p> On first booting up your Raspberry Pi&#174; you should see the raspi-config screen.  In this tutorial we shall be using the graphical desktop.  Select the <code>“boot_behaviour”</code> option and select <code>“Yes”</code> i.e. boot to desktop.  
		   Boot again and you should see following start up screen.</p>

		   <img src="./assets/images/rpi-desktop.jpg" alt="rpidesktop" width="40%" height="40%">
	   </li>
	   <br>
	   
	<div class="alert alert-info">
	<strong>Note:</strong> If for some reason the operating system doesn't load or if you have an extra SD card which you wish to load the Raspbian
	Operating System image onto, please refer to <a href = "#s2">Loading the Raspbian Operating System on a SD card </a> in the Troubleshooting guide.
	</div>
   
   
	   <div class="alert alert-info">
		<strong>Note:</strong> If you would like help to configure your keyboard, SSH password and local time on your device please go to 
		<a href = "#s3">Configure your Raspberry Pi&#174; </a> in the Troubleshooting guide.
		</div>
				
	   <li>
  <h3><a name ="section4"> Connect to the Internet</a></h3>

		  <p>Our first step will use the built-in Ethernet port to retrieve the Python scripts from GitHub.  We will later use the scripts that are fetched to activate the Wireless interface.   </p>
		  
		  <img src="./assets/images/ethernet_pi.jpg" alt="ethernet_pi" width="40%" height="40%">
		   
		  <p>Open the <i>LXTerminal</i> by locating the icon on the Raspbian desktop and executing it to show the picture below. </p> 
		  
		  <img src="./assets/images/lxterminal.jpg" alt="lxterminal" width="40%" height="40%">
		  <br>
		  <br>
		  
		  	<div class="alert alert-error">
				<strong>Note:</strong> On a Raspberry Pi&#174; / keyboard combination that we tested, the keyboard map was incorrectly set, which caused incorrect characters to display when typing.  If you have a similar issue, you can use the following command to manually set the keyboard map to 'us' aswell as permenantly configure through raspi-config.
				<pre class=" gutter: false"> pi@raspberrypi ~ $ setxkbmap us </pre>
			</div>	 
		  
		  <p>Use the <i> ifconfig </i> command to list the interfaces which are active on your Raspberry Pi&#174;</p>
		   
<pre class=" gutter: false">
pi@raspberrypi ~ $ ifconfig	  
</pre>  
 
  <p>On our Raspberry Pi&#174;, under Raspbian, the <i>eth0</i> interface corresponded to the wired ethernet port.   
  After connecting an Ethernet cable to the Raspberry Pi&#174; (assuming there is a DHCP server on your network) your Raspberry Pi&#174; should request and recieve an address automatically.  <i>eth0</i> needs to recieve an ip address (the example in the figure below is 192.168.20.100). 
  If an IP address is shown then, congratulations, you are now connected to the internet! </p>

<div class="alert alert-error">
	<strong>Note:</strong> If you are using your university LAN connection, you may encounter that you cannot establish and internet connection. 
	This could be because your university has a firewall restricting access. You may need to try a internet connection at home or try using your BigPond&#174; USB 4G dongle
	with a portable 3G Wireless router with an ethernet port available. 
</div>
  
<pre> 
eth0      Link encap:Ethernet  HWaddr b8:27:eb:4b:5e:22 
          inet addr:192.168.20.100  Bcast:192.168.20.255  Mask:255.255.255.0 
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:8 errors:0 dropped:0 overruns:0 frame:0
          TX packets:7 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:1890 (1.8 KiB)  TX bytes:200 (200.0 B)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:5 errors:0 dropped:0 overruns:0 frame:0
          TX packets:5 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:1000 (1.0 KiB)  TX bytes:1008 (1.0 KiB)
</pre> 

	</li>
	<li>

  <h3><a name ="section5"> Download our sample client </a></h3>

          <p> The next step is to enable your wireless connection by downloading the sample client from Git.</p>  

          <p> First, update the system's package database, install python serial library and the git command line client. </p> 
<pre class="gutter: false">
pi@raspberrypi ~ $ sudo apt-get update 

pi@raspberrypi ~ $ sudo apt-get install python-serial
	
pi@raspberrypi ~ $ sudo apt-get install git [press 'enter']

pi@raspberrypi ~ $ git clone https://github.com/telstra/m2m-university-challenge.git [type 'yes' if prompted]
</pre>

		
<p>You should now have a local instance of our client, and server repository on your Raspberry Pi&#174;. You can check this by typing the following command:</p>
		
<pre class="gutter: false">
pi@raspberrypi ~ $ cd m2m-university-challenge; ls  
</pre>
		
<p> The output from the command above should include the folders listed below: </p>
	
<pre class="gutter: false">
example-client-python&nbsp;&nbsp;example-server-haskell&nbsp;&nbsp;m2m-static-html
</pre>
	
<p> You now have a local git repository in the folder <i> m2m-university-challenge</i>, where you can modify all the source code.</p>
</li>
	<li>
		<h3><a name ="section6">Connect using the BigPond&#174; USB 4G mobile broadband dongle</a></h3>
	
		<p>Insert the M2M SIM into the BigPond&#174; USB 4G dongle. If you are unsure how to do this there is a booklet with the dongle that shows you how to insert the SIM.  </p>
		
		<p>Then insert the BigPond&#174; USB 4G dongle into the Raspberry Pi&#174; USB port. </p>
		<div class="alert alert-error">
			<strong>Warning</strong> Take care when connecting and disconnecting devices to the Raspberry Pi&#174;.  
			In our testing, our Raspberry Pi&#174; rebooted upon connecting the BigPond&#174; USB 4G dongle, so you may want to check that your work is saved.  
		</div>
		
		<div class="alert alert-error">
		  <strong>Also Please Note:</strong> At this point you may have the Ethernet port and BigPond&#174; USB 4G dongle connected simultaneously. While there are tools in linux
		  to handle multiple interfaces, this solution is currently out of scope for this tutorial (However, as a challenge, your welcome to try yourselves!). Hence, for the remainder of this tutorial, we recommend 
		  that you disconnect the Ethernet port and ONLY leave the BigPond&#174; USB 4G dongle connected! </p>  
		  </div>
		
		<img src="./assets/images/pi_setup_without_ethernet.jpg" alt="ethernet_3g_without_ethernet" width="40%" height="40%">
		
		
		<p>In <i>LXTerminal</i>, type the following commands</p>
		
<pre class="gutter: false">
pi@raspberrypi ~ $ cd m2m-university-challenge/example-client-python; ls 
</pre>
		
    <p> See the script called <i> gpsclient.py </i> </p>
		
<pre class="gutter: false">
gpsclient.py&nbsp;&nbsp; gpsclienttest.py
</pre>
		
		<p> The python script above provides an example of how you can: </p>
		<ol>
		<li>Turn on your BigPond&#174; USB 4G dongle. </li>
		<li>Assign the correct APN to the device so that it can be publically accessible. </li>
		<li>Send data from the Raspberry Pi&#174; over the Next G&#174; network to a VM server in the Telstra Cloud Lab where we are able to store the GPS coordinates from the BigPond&#174; USB 4G dongle.   </li>
		</ol>
		<br>
		
		<p> To launch the script, script type: </p>
		
<pre class="gutter: false">
pi@raspberrypi ~/m2m-university-challenge/example-client-python $ sudo python gpsclient.py 
</pre>
       	
		<p> Where the following response should be:</p>

<pre class="gutter: false">	
[ -- ] System Initiating Setup
[ -- ] Creating Queue Threads
[ OK ] Modem Echo On
[ OK ] SIM Card IMSI is 505013499180520
[ OK ] Modem IMEI is 357272044593295
[ OK ] Pi CPU Serial ID is:  000000006e59e7f5
[ -- ] Pi wwan0 NOT connected attempting to re-establish now
[ -- ] Running command to power up modem
[ -- ] Running PDP Connection Commands
[ -- ]    DHCP Release
[ -- ]    Ensuring PDP connection closed
[ -- ]    Setting APN in profile 1: sudo echo -e 'AT+CGDCONT=1,"IP","telstra.extranet"' > /dev/ttyUSB3
[ -- ]    Setting Profile 1 as default
[ -- ]    Setting profile 1 as manual connection
[ -- ]    Activating PDP connection on profile 1
[ -- ]    DHCP Renew
[ OK ] Successfully obtained IP address on wwan0
[ -- ] Wwan0 IP address same as last acquired address 123.209.149.19
[ OK ] System Setup Complete
*****************************
</pre>

<p>If you get the response above, it means that the USB port where the BigPond&#174; USB 4G dongle is connected (<i>wwan0</i>) is configured 
with an Access Point Name (APN) of <font face="courier">telstra.extranet </font> and has established a connection to the internet.</p>
		
<div class="alert alert-info">
<strong>Note:</strong> Your IMEI and IMSI will be unique for your device.  Please note your <i>wwan0</i> IP Address, as you will need 
it when you SSH into your device in a later step.
</div>
		
<div class="alert alert-error">
    <strong>Note:</strong> If at this stage you're having connection problems it may be worth checking:
    <ul>
    <li> Whether the serial port is configured correctly.  You may wish to <a href = "#s4"> Check the serial port with Minicom</a> in the Troubleshooting section.</li>
    <li> If the APN is configured correctly.  Please see  <a href = "#s5"> Trouble configuring your APN</a> in the Troubleshooting section.</li>
    </ul>
</div>

		<div class="alert alert-error">
		<strong>Note:</strong> If your device disconnects from the network, on your next power up to attach to the network it is likely to be assigned a new IP address.  In the following steps, you will configure a Virtual Machine.  You may wish to configure your Raspberry Pi&#174; to report its IP address to the VM periodically, since the VM's IP address will remain constant, allowing you to locate the address of the Raspberry Pi&#174; as it varies.  
		</div>
		
		<p> At this point you will need to terminate the script by pressing <code> "CTRL" </code> and <code> "c" </code> together. </p>
		
		<p>You can verify that you are connected by typing the following code in the <i>LxTerminal</i>. </p>

<pre class="gutter: false">
pi@raspberrypi ~/m2m-university-challenge/example-client-python $ ifconfig
</pre>
		
		<img src="./assets/images/wwano_connected.jpg" alt="wwan0_connected" width="60%" height="60%">
		
    <p>You should have the same IP address against <i>wwan0</i> which has been assigned to your BigPond&#174; USB 4G dongle(as above 123.209.11.44), 
		you are now connected to the internet via the wireless interface.</p>
		
	<li> <h3><a name ="section7">Send GPS coordinates to the server and display your position on a Google map</a></h3>
		
		<div class="alert alert-error">
			<strong>Please Note:</strong> This will display your kit's position on the Challenge map.  This map will be visible
			to other contestants when your kit is powered up. If you do not want the position of your kit made public then
			please move to the next step. 
		</div>
		
		<p> Return to the <i>LxTerminal</i> and type the following command: </p>
		
<pre class="gutter: false">
pi@raspberrypi ~/m2m-university-challenge/example-client-python $ sudo nano gpsclient.py
</pre>
		
<p>This will open the python file into a text editor.</p>
<p>Within this text editor, under "Global Variables" please edit your team name. This will be the displayed on the Google map.</p>
		
<pre class="brush: python; gutter: false">
# Global Variables
......
displayString = "Team ??"  # Change diplayString to reflect your team name
</pre>

<p>After the following edits have been made, hold <code>“Ctrl”</code> + <code>“x”</code> (prompting you to save the file) then press <code>“Y”</code>
(for yes) then <code>“Enter”</code> to keep the same file name.</p>

<p>Next return to <i>LXTerminal</i> and type the following commands:</p>

<pre class=" gutter: false">
pi@raspberrypi ~/m2m-university-challenge/example-client-python $ sudo python gpsclient.py
</pre>
		
		<p>This will relaunch the script as in the previous step. </p>
	    
		<p>If the script successfully initiates, you should see the following final response in the terminal. </p>
		
<pre class="gutter: false">
[ OK ] Fix Session Status = ACTIVE
Posting GPS coordinates lat: -37.813475 and long:144.970997222
imei:357272044593295 imsi:505013499180520 cpuID: 000000006e59e7f5
displayString Team ?? arbitraryText UTC Timestamp is 2013-04-28 08:39:42
Server: nginx/1.3.14
Date: Sun, 28 Apr 2013 08:39:26 GMT
Content-Type: application/json
Transfer-Encoding: chunked
Connection: close		
</pre>

		<div class="alert alert-error">
			<strong>Note:</strong> You may at this point get an exception thrown (ie. the script terminates or no GPS coordinates are given). Some suggestions to troubleshoot this are: 
			<ul>
			<li>No GPS signal can occur due to the Raspberry Pi&#174; being in an area where it cannot see the GPS satellites. Please try moving the Raspberry Pi&#174;(with the BigPond&#174; USB 4G dongle attached) closer to a window to ensure that the satellites are detected, then, relaunch the script. It is best to watch the output after the AT command <code> AT!GPSSATINFO? </code> to see if there are any satellites in view. Once there is a satellite lock, it is expected a latitude and longitude result should follow this command.
			<li> <i> tshark </i> is useful to see what data is being transmitted.   A typical command line for tshark is <i> tshark -i eth0 -n port 80 </i> which shows all traffic on port 80 on eth0. </li> 
			<li>An exception is thrown due to server being down. Your device is working correctly but the sever inside Telstra which is trying to store your results is not accepting your HTTP POST request.  The best thing to do here is to email our <a href="mailto:telstrauniversitychallenge@team.telstra.com">support team</a> via the website process.</li>
			</ul>	
		</div>
		
		<p>Before proceeding, you will need to terminate the script by pressing <code> "CTRL" </code> and <code> "c" </code> together.
			
		<p>On the Telstra M2M University Challenge map, which is on the <a href="http://www.telstra.com/universitychallenge">Telstra M2M University Challenge website</a>, you will now see a marker corresponding to your team name and clicking it should show you the data string which you typed in the python script earlier.</p>
<!--				
		<div class="container">
		<div id="map" style="width:800; height:600"></div>
		</div>
-->		
		<p>You have just successfully reported your GPS location on the map!</p>
	</li>
	<li>
		<h3><a name ="section8">Setup remote connection to your Raspberry Pi&#174; via SSH</a></h3>
				
		<p>Install <i>PuTTY</i> (a Telnet and SSH client for MS Windows) from the following <a href = "http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html"> link</a> if not already from your desktop.</p>

		<p>Download “Putty.exe” and save on your desktop. Launch the program and configure the following details.</p>
		
		<img src="./assets/images/putty-config.jpg" alt="putty_config" width="40%" height="40%">
		
		<p>Under <code>“Host Name (or IP address)”</code> please type in the IP address you got for <i>wwan0</i> as previously noted. 
		Leave <code>“Port”</code> as <code>“22”</code> and ensure the connection type <code>“SSH”</code> remains selected.</p>

		<p>Under <code>“Saved Sessions”</code> please type your “team name” select <code>“Save”</code>. And finally press <code>“Open”</code>.</p>

		<p>If a connection is established you should see a “Security Alert Screen” shown below. This is indicating you're tunnelling into the device. 
		Select <code>“Yes”</code> and proceed.</p>
		
		<img src="./assets/images/Putty_security_Alert.png" alt="putty_alert" width="40%" height="40%">
		
		<p>In the putty terminal you will be prompted for your “username” and “password” if you didn’t set this at the beginning of this guide, 
		the default values are <code>“pi”</code> and <code>“raspberry”</code>. </p>

<pre class="gutter: false">
login as: pi
pi@123.209.52.215's password:
...

pi@raspberrypi ~ $  
</pre>

		<p>Once successful, you will see the familiar terminal. Congratulations you are now connected to your device!</p>
        	
	</li>
	</ol>
<li><h3> Setting up Virtual Machine Environment</h3></li>			
		<p> By this point of the set-up you will have successfully completed the following steps: </p>
			<ul>
				<li>Gathered data from your hardware;</li>
				<li>Sent your data to our web server; </li> 
				<li>Displayed GPS data in a meaningful way on a web application; </li>
			</ul>
		<br>
		<p> In this section we will be setting you up with your own "cloud" or web server in the Telstra Cloud Lab environment. 
		You can use this VM to store your own data from the Raspberry Pi&#174; and if you choose to build a web application to display any data associated with your innovation. </p>
    
<ol type = "i">
	<li>
        <h4><a name ="s90">Get your VM</a></h4> 
        
        The first step is to get access to the virtual machine.  To avoid sending passwords via email, we provision access to the virtual machines by way of an ssh public key.  If you've never used SSH keys like this before, this step might seem cumbersome.  However, when you've completed it, you'll be able to securely log in without typing a password.  
        To generate an RSA key pair: 
        
        <h5> Accessing your VM from a Linux client </h5> 
        Under Linux, you can generate an RSA key pair with the following command: 
		
<pre class="gutter: false">
example@yourmachine:/home/user ~ $ ssh -keygen –b 4096
</pre>
 
        If you accept the default options, an RSA key will be generated and saved to the .ssh directory in your home directory.  The public key file will have the name <i>id_rsa.pub</i> and the private key will have the name <i>id_rsa</i>.   Copy the contents from id_rsa.pub into an email, and send it to the <a href = "mailto:telstrauniversitychallenge@team.telstra.com">email support address</a>.   We'll send you back the IP address of your VM server, and you will be able to login using your private key to authenticate yourself.  
    
        <h5>  Accessing your VM from a Windows client </h5> 

		<ol>
        <li>Downloaded <i>PuTTYgen</i> from <a href = "http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">link</a>.</li>
		<li>Launch <i>PuTTYgen</i> (where you will see the screen below).</li><br>
		<img src="./assets/images/putty_gen_home_screen.png" alt="putty_gen_home" width="40%" height="40%">
		<li>Press <code>“Generate”</code> button. </li>
		<li><u>You will need to move the mouse to generate the key</u>, where you will get the expected output below. </li><br>
		<img src="./assets/images/putty_generated_screen.png" alt="putty_gen_generated" width="40%" height="40%">
		<li>[OPTIONAL] Protect the key file by entering a passphrase into the two empty textboxes.  This will be requested to log into the VM. (highly recommended)</li>  
		<li>Click <code>“Save Private Key”</code>. </li> 
		<li>For the <i>PuTTY</i> session, direct the program at the private key file for the ssh key. (see image below)</li><br>
		<img src="./assets/images/putty_key_output.png" alt="putty_gen_output" width="40%" height="40%"><br><br>
		<li>Copy the contents of the ssh key into an email, and send it to the <a href = "mailto:telstrauniversitychallenge@team.telstra.com">email support address</a>.   We'll send you back the IP address of your VM server, and you will be able to login using your private key to authenticate yourself. Please ensure you send the key with the same format below, <u>with your user name included!</u></li>
 <pre class="gutter: false"> 
ssh-rsa 
AAAAB3NzaC1yc2EAAAABJQAAAIBaGB3ge46H8GOjcdEgyn6ZR63IUqoGRGF1BnHTaISHTOr/97MlPRI5ykmr/S8cEL0Bf+UwmEyfCkflaNs+HRTpBu6JwiPFmuCOrI/GENTQyNE3Bm6wV/oXp/Ym2IPHt9j9pEmRRXsStJ37LphgiXoa+ewisWvpuY58OheP9b9dGQ== <b><font color="red">your_user_name</font></b>
</pre> 
		
		</ol>
		
       </li>
	   <li>
        <h4> <a name ="s91"> Create an unprivileged user</a></h4> 

        You should avoid using the root account as your everyday account where possible.   The root account provides very little room for error - <i> rm </i> will successfully remove important files, and if a script you are developing goes awry, there is very little to stop it.   Additionally, if you work from the server, it can be annoying to share a single user environment. 

        An easy mitigation for this is to create an unprivileged user for each member of your group.   To do this, use the command <i>adduser</i>. The following is a transcript from creating a user tom as root.  

 <pre class="gutter: false"> 
root@m2mteam00:~# sudo adduser tom
[sudo] password for root:
Adding user `tom' ...
Adding new group `tom' (1002) ...
Adding new user `tom' (1002) with group `tom' ...
Creating home directory `/home/tom' ...
Copying files from `/etc/skel' ...
Enter new UNIX password: 
Retype new UNIX password: 
passwd: password updated successfully
Changing the user information for tom
Enter the new value, or press ENTER for the default
	Full Name []:  Tom Citizen  
	Room Number []: 
	Work Phone []: 
	Home Phone []: 
	Other []: 
Is the information correct? [Y/n] y
</pre> 
<li>
<h4><a name ="s92">Installing and configuring your web server on your VM</a></h4>

<p> You should now be able to log into your virtual machine using the provided username and your private key. </p> 

<p> As many of the commands to follow require root permission to execute. You will need to enter a command to give the user 'tom' this access. This can be done as follows. </p>

<pre class="gutter: false">
root@m2mteam00 ~ # sudo usermod -a -G sudo tom
</pre>

<p> After giving 'tom' root access, we can proceed with installing <i>nginx</i> which is a HTTP and reverse proxy server as 'root'.</p>

<pre class="gutter: false">
root@m2mteam00 ~ # sudo apt-get install nginx-full  
</pre>
		
After installation, access the nginx folder by typing the following.
		
<pre class="gutter: false">
root@m2mteam00 ~ # cd /etc/nginx; ls
</pre>
		
<p>In the Nginx folder you should see two folders called "sites-available" and "sites-enabled". Next type: </p>

<pre class="gutter: false">
root@m2mteam00:/etc/nginx ~ $ cd sites-available
</pre>
		
<p> In this folder you will create a configuration file which lists the Telstra M2M University Challenge web applicaton domain.  Open a text-editor.  The following example uses nano, but you may prefer vi or another editor.</p>
		
<pre class="gutter: false">
root@m2mteam00:/etc/nginx/sites-available ~ # sudo nano
</pre>
		
<p>While in the text editor copy the following configuration file.</p>
		
<pre class="gutter: false">
server {
    listen       80;
    server_name  203.42.134.221;
    access_log  /var/log/nginx/203.42.134.221.access.log;

    location / {
        root /home/tom/m2m-university-challenge/m2m-static-html/;
        auth_basic      "Restricted";
        auth_basic_user_file /etc/nginx/htpasswd;
         }

    location = /api/position {
         allow           all;
         proxy_pass      http://127.0.0.1:8000/api/position;
         }
    }
</pre>
    <p>  <b><u>You should replace the server_name with the <i>IP address</i> of your virtual machine and also the <i>user name</i> you created!</u></b> </p> 	

<div class="alert alert-error">
    <strong>Please Note:</strong> At this stage, you may have noticed that the web server you have configured has been for one user. In this exercise we assume that 
	there will be multiple users configured according to the number of developers in your team. If this is the case, you may have thought of the issue of multiple web servers binding on a single port.
	As you may have suspected, <b>you cannot have multiple users bind to port 8000</b>. You will need to ensure that for each user you create, a new port used in this configuration file, and hence the url you setup reflect the port you are pointing to!
</div>

    <p>Save this file by pressing <code>"Ctrl"</code> and <code>"x"</code> name the file.  For the purposes of organisation, you may wish to name the file after the IP address of the host that it is serving.  On http://203.42.134.221, we use the name <i><b>203.42.134.221</b></i>. 

    <p> The file you have just created has three sections, running from the top to the bottom.  They do the following: 

    <ul> 
       <li> The first group of statements configures an HTTP server to listen on port 80.  You can see that this configuration is for the host 203.42.134.221, and that logging of access requests is to the file /var/log/nginx/203.42.134.221.access.log </li> 
       <li> The second group of statements configures the general policy for the server - namely, to serve static HTML files out of the user example's home directory, in the subdirectory m2m-university-challenge/m2m-static-html.   Access is only permitted if the user provides the correct password, which the server looks up in /etc/nginx/htpasswd </li> 
       <li> The third group of statements creates an exception to the general rule immediately above for the location <i>/api/position</i>.  This path is accessible without a password.  Additionally, rather than serving static HTML, requests are forwarded to the server running on the local machine (127.0.0.1) on port 8000.   In this configuration, no authentication is performed by nginx before allowing getting or setting positions.  Additionally, an unprivileged user is able to execute the server, since the bound port is not a privileged port. </li>  
   </ul> 
</p> 
		<p> To activate the configuration, you will now create a symbolic link to the configuration file that you just wrote.  For our server at http://203.42.134.221, this was achieved using the following command.  </p>
		
<pre class="gutter: false">
root@m2mteam00:/etc/nginx/sites-available ~ # sudo ln -s /etc/nginx/sites-available/203.42.134.221 /etc/nginx/sites-enabled/203.42.134.221
</pre>
	
        <p> Your command will differ slightly, depending on what you have named your configuration file above.   Note that this arrangement - having an original file in sites-available, and a symlink in sites-enabled, allows you to conveniently disable sites served by nginx by simply deleting the configuration in sites-enabled, while retaining the configuration in sites-available. </p>
	
		<p> You should configure your server to require a username and password prior to logging in, in order to prevent unauthorised users from seeing your site.   To do this, install the Apache utilities:  </p>
		
<pre class="gutter: false">
root@m2mteam00:/etc/nginx/sites-available ~ # sudo apt-get install apache2-utils 
</pre>
		
		<p> Configure the password for your username by inserting these in the fields below "your_username"</p>.
		
<pre class="gutter: false">
root@m2mteam00:/etc/nginx/sites-available ~ # sudo htpasswd -c /etc/nginx/htpasswd your_username 
</pre>	
		<p>You can check if the file <i>htpasswd</i> exists by typing <code>ls</code> in the console screen</p>
				
		<p>Next, check that nginx is configured correctly using the following command: </p>

<pre class="gutter: false">
root@m2mteam00:/etc/nginx/sites-available ~ # nginx -t
</pre>

		<p>The expected output is:</p>
		
<pre class="gutter: false">
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
</pre>
		
		<p>If the output returned is the same as above, than you nginx has been configured properly, congratulations!</p>

        You should now be able to start nginx like so: 

<pre class="gutter: false">
root@m2mteam00:~ # service nginx start
</pre>

        Nginx is now configured to point to 127.0.0.1:8000 when accesses are made to the URL /api/position. However, we have not yet configured the application server at that address.   That's next! 

	</li>
	<li>
		<h4><a name ="s93">Clone the application server code to your VM</a></h4>
		
		<p> The next step is to clone the application server to your VM.</p>
		<p> You may remember doing this for your Raspberry Pi&#174; earlier in this tutorial and the steps are exactly the same.</p>
		<p>First we must install git: </p>
		
<pre class="gutter: false">
root@m2mteam00:~ # sudo apt-get install git
</pre>
		
		<p> Now, change to unprivileged user (rather than as root) and clone the repository locally to your VM. </p>
		
<pre class=" gutter: false">
root@m2mteam00:~ # su tom 

tom@m2mteam00 $ git clone https://github.com/telstra/m2m-university-challenge.git
</pre>
	</li>
	<li>
		<h4><a name ="s94">Build your webserver on your VM</a></h4>
		
		<p>Once the clone has finished, build the server: </p> 
		
<pre class="gutter: false">
tom@m2mteam00:/home ~ $ cd m2m-university-challenge/example-server-haskell/

tom@m2mteam00:/home/tom/m2m-university-challenge/example-server-haskell ~ $ sudo apt-get install cabal-install haskell-platform

tom@m2mteam00:/home/tom/m2m-university-challenge/example-server-haskell ~ $ cabal update

tom@m2mteam00:/home/tom/m2m-university-challenge/example-server-haskell ~ $ cabal install
</pre>

<div class="alert alert-info">
<strong>Note:</strong> The istallation of the cabal takes a while, depending on you connection type (whether this is fixed or wireless dongle), this may take between 15-30 minutes! 
</div>
		
		<p> If successful, cabal will indicate that the build is complete, and has been placed in a directory, for example: 
		
<pre class="gutter: false">
 Installing executable(s) in /home/tom/.cabal/bin
</pre> 

	  <p> The example server as written does not daemonize itself.   When the controlling terminal exits (e.g. by disconnecting from the server), the server will terminate.  We recommend installing <i>tmux</i>, which allows you to detach from your shell (leaving the server running) and re-attach later.  For example: </p> 

	  <p> You will need to start the webserver, which will bind to port 8000 by default. This can be done by the following instructions, still as user 'tom'.</p>
<pre class="gutter: false">
tom@m2mteam00: ~ $ tmux
</pre> 
        
        <i>  A new shell starts: </i> 

<pre class="gutter: false">
tom@m2mteam00:/home/tom/m2m-university-challenge/example-server-haskell ~ $ cd dist/build/example-server/ 
tom@m2mteam00:/home/tom/m2m-university-challenge/example-server-haskell/dist/build/example-server ~ $ ls
<font color='green'> example-server </font>  <font color='blue'>example-server-tmp </font>
tom@m2mteam00:/home/tom/m2m-university-challenge/example-server-haskell/dist/build/example-server ~ $ sudo ./example-server
</pre> 
        
<p> Server starts.  Hold <code>control</code>, hit <code>b</code>, then hit <code>d</code>.   The text [detached] appears.  Your server is now running, but you are not attached to it.   To re-attach, type: </p> 

<pre class="gutter: false">
tom@m2mteam00: ~ $ tmux attach 
</pre> 

<p> You can verify that the webserver forwards requests by attempting to access the URL, <a href="http://203.42.134.221/api/position">http://203.42.134.221/api/position</a>  in a browser, or using a command line tool such as wget or curl.  You should see an empty JSON list indicated by [] initially.</p>

<div class="alert alert-error">
<strong>Note:</strong> When accessing the address/api/position you may get a 502 Bad Gateway error message thrown. This is due to the webserver not executing properly. 
Ensure that when executing the instruction <pre> sudo ./example-server </pre> that you allow the server to go through the entire installation process. If you don't the server won't work.
</div>
      	   
<div class="alert alert-info">
<strong>Note:</strong> When accessing static pages, you will be asked to enter the username and password credentials you created earlier.  If you forget these details, you can always log in as the root user and use the htpasswd command to update the details in /etc/nginx/htpasswd 
</div>
</li>
	<li>
		<h4><a name ="s95">Send data from your Raspberry Pi&#174; to your VM</a></h4>

<p> While still within the VM environment, you want to first modify your local version of the Telstra M2M University Challange map which you will use to host your web application to retrieve data from the correct url position. 
You will do this by first opening your <i>load_m2m_map.js</i> file in a text editor. </p>

<pre class="gutter: false">
tom@m2mteam00: ~$ cd /home/m2m-university-challenge/m2m-static-html/assets/js

tom@m2mteam00:/home/m2m-university-challenge/m2m-static-html/assets/js ~$ nano load_m2m_map.js
</pre>		

<p> In the area of the script where the json array is loaded to get the marker data you will need to point the url in the new direction to your VM (where in our example that is "http://203.42.134.221" ). </p>

<pre class="gutter: false">
function addMarker() {
	$.ajax({
		type: "GET",
		//url: "http://example.innovation.telstra.com/api/position",
		url: "http://203.42.134.221/api/position",
		async: false,
		dataType: "json",
		success: function(data){
				teamArray = data;
			}
	});							 
</pre>		

<p>Next you will access your Raspberry Pi&#174; by either using the workstation or SSH into the Pi as in the instructions <a href ="#section8">Setup remote connection to Pi via SSH</a>.
And modify the gpsclient script to post the GPS data to the correct VM location. </p>
		
<pre class="gutter: false">
pi@raspberrypi ~/home $ cd m2m-university-challenge/example-client-python

pi@raspberrypi ~/m2m-university-challenge/example-client-python $ nano gpsclient.py
</pre>

<p>Within the text editor change the positionUrl so it points toward your VM server.  In the example below, the Python script is modified to point to the IP address 203.42.134.221</p>
		
<pre class="brush: python; gutter: false">
# Global Variables
....
#positionUrl = "http://example.innovation.telstra.com/api/position"  # Target server for JSON upload
positionUrl = "http://203.42.134.221/api/position"
</pre>
		
		<p>Launch the <font face="courier"> gpsclient.py </font> script and watch whether you get a successful post.</p>
		
		<p>If successful you should see a marker on the Google map hosted on your VM server. </p>  
		
		<p> If you have seen the marker, congratulations, you have setup your webserver and have successfully completed this tutorial! </p>
	</li>
	</ol>
<li><h3> Supporting Documentation </h3></li>
<ol type="i">
	<li><h3><a name ="section10">Telstra Wireless M2M Control Centre Support</a></h3></li>

	<p>As part of this Challenge you will have access to the Telstra M2M Control Centre, this is a commercial tool provided by Telstra to support our M2M customers. The Control Centre provides a number of capabilities such as real-time diagnostic support tools and real-time usage reporting.</p>

	<p>In your M2M university Challenge kit this will contain an M2M SIM card.  We have linked your SIM card to a M2M Control Centre account, we will start the activation of your M2M Control Centre account at the beginning of the challenge.  When we start the activation you will receive an email, in the email there is a link to complete the activation.  Click on the link and set your password, once this is done your M2M Control Centre activation is complete.  You have 3 days to complete this step, if you miss the 3 day window please contact us via the M2M University Challenge email support and we can re-start the activate process.  Once you have set your password this will take you to the M2M Control Centre log in page, for future reference the log in page is: <a href ="https://telstra.jasperwireless.com"> https://telstra.jasperwireless.com </a> </p>

	<p>The M2M control centre will provide you with service details e.g. APN the SIM is connected to, usage profiles, IP address allocated.  This can be helpful when troubleshooting connectivity issues.  For more information on the M2M Control Centre capabilities go to this <a href ="http://www.telstra.com.au/business-enterprise/enterprise-solutions/mobile-assets-workforce/remote-mobile-assets-management/telstra-wireless-m2m-control-centre/index.htm">link </a>.</p>
	
	<li><h3><a name ="section11">Troubleshooting Guide</a></h3></li>
	<p>Below are some troubleshooting tips for support during your device set up or during the Challenge. Additional information will be posted on the FAQ site during the challenge and questions can be answered via the support email address.</p>
<ol type = "a">	
	   <li>
	   <h3><a name ="s1"> Using remote access for Raspberry Pi&#174; initial set up</a></h3>
		<p>If you want to set up your Raspberry Pi&#174; by remote access only, without a monitor connected to it, 
		then you will need to connect the Raspberry Pi&#174; to a router so it is possible to find the device’s IP address.  
		Once you have this it will be possible to SSH to the device.  Refer to Section 2.vi: <a href ="#section8">Setup remote connection to Raspberry Pi&#174 via SSH</a>.
		All the steps detailed in the Getting Started guide are applicable to this set up except skip over parts that refer to checking the graphical interface.</p>	   
	   </li>	  
	   <li>	  
		  <h3><a name ="s2"> Loading the Raspbian Operating System on a SD card</a></h3>	
		  
			<div class="alert alert-info">
				<p><strong>Note:</strong> We will be providing SD cards with the Raspbian Operating System pre-installed hence this section are only for those
				considering using extra SD cards</p>
			</div>
      <div class="alert alert-error">
           <strong>Please Note</strong>  The BigPond&#174; USB 4G device requires Linux drivers which are not present in early versions of the Wheezy Raspberry Pi&#174; image.   We draw your attention to this because there is <i> partial </i> support under these drivers for data, and this partial support may obscure your attempts to debug.  We recommend using <a href="http://downloads.raspberrypi.org/images/raspbian/2013-02-09-wheezy-raspbian/2013-02-09-wheezy-raspbian.zip"> 2013-02-09-wheezy </a>.  
      </div>  
	  
		   <p>Open your favourite browser and go the official Raspberry Pi&#174; <a href = "http://www.raspberrypi.org/downloads"> download page </a>; 
		   here you will need to go to download two files an ISO image of Raspbian Operating System as well as ISO imager named <b>2013-02-09-wheezy-raspbian.zip</b> 
		   and <b>Win32DiskImager</b> respectively.</p>
		   
		   <p>Insert your 8-GB in the SD-card reader and launch <i>Win32DiskImager</i>. Locate the wheezy Raspbian ISO and ensure the device where the SD card 
		   is located is selected, where in this example is disk <code>“F”</code>. Then press <code>“write”</code>.</p>

		   <img src="./assets/images/win32 Disk_image.png" alt="win32" width="40%" height="40%">
		   
		   <p>Wait until the write is successful then eject the device. Insert the SD card into the Raspberry Pi&#174; as below. </p>
		   
		   <img src="./assets/images/SD_inserted.jpg" alt="SDInserted" width="40%" height="40%">
	</li>
	<li>
		<h3><a name ="s3"> Configure your Raspberry Pi&#174;</a></h3>

			<p> To get to the Raspberry Pi&#174; config screen you will need to type the following command on the <i> LxTerminal</i>: </p>
			
<pre class="gutter: false">
pi@raspberrypi ~ $ sudo raspi-config			
</pre>

		   <p>The screen below should appear:</p>
		   
		   <img src="./assets/images/raspi-config.jpg" alt="raspconfig" width="40%" height="40%">
		  <br>
		  <br>
		  
		   <p>In this menu you can decide to setup your SSH password for extra security and set the local time. And also, configure the keyboard that you're currently using if you know the model name.</p>
		   
		   <p> Complete the setup by selecting <code>Start desktop on boot</code> and finally <code> Finish</code>.
		   
			<div class="alert alert-info">
				<strong>Note:</strong> On a Raspberry Pi&#174; / keyboard combination we tested, the keyboard map was incorrectly set, which caused incorrect characters to display when typing.  If you have a similar issue, you can use the following command to manually set the keyboard map to 'us'.
				<pre class=" gutter: false"> pi@raspberrypi ~ $ setxkbmap us </pre>
			</div>	 
		   
	</li>
	<li>	<h3><a name ="s4"> Check serial port with Minicom</a></h3>
	<p>Launch <i>LxTerminal</i> on the Raspberry Pi&#174; and install Minicom from the following commands below:</p>
	
<pre class=" gutter: false">
pi@raspberrypi ~ $ sudo apt-get install minicom
</pre>
	
	<p> Next type the following to enter the setup screen below </p>

<pre class=" gutter: false">
pi@raspberrypi ~ $ minicom -s
</pre>
	
	<img src="./assets/images/minicom_setup_screen.png" alt="minicom1" width="25%" height="25%">
	<br>
	
	<p> While in this menu go to <code> Serial Port Setup </code></p>
	
	<img src="./assets/images/minicom_setup_screen_2.png" alt="minicom2" width="55%" height="55%">
	<br>
	
	<p> Press <code> "A" </code> and <code> "Enter" </code> to enter to configure the <code>"Serial Device"</code> </p>
	
	<p> If <i>"modem"</i> appears in the <code>"Serial Device"</code> please rewrite <i>"ttyUSB3"</i> in it's place then press <code>"Enter"</code> twice. </p>
	
	<p> Upon returning to the minicom homescreen go to the option "exit" and press <code>"enter"</code>.
	
	<p> While in this screen type the AT command <code>"ATZ"</code> if you get a return <code>"OK"</code> it means that the serial port is working.

	<p> Exit this screen by pressing <code>"CTRL"</code> and <code>"A"</code> then select <code>"Q"</code> to quit the menu and return to the terminal.</p>
	
	<img src="./assets/images/minicom_setup_screen_3.png" alt="minicom3" width="55%" height="55%">
	<br>
	
	</li>
	<li>
		<h3><a name ="s5">Trouble configuring your APN</a></h3>
	
		<p> Connect the BigPond&#174; USB 4G dongle to a Windows workstation and download the <i>“Aircard watcher”</i> from 
		 <a href = "http://www.sierrawireless.com/en/Support/Downloads/AirCard/USB_Modems/AirCard_320U.aspx">here</a>.  Once the download is complete, launch the program.</p>

		<ol>
		<li>Once Watcher is launched, you will see a set of icons.  Please press <code>“options”</code> represented here as the spanner.</li>
			<img src="./assets/images/watcher_startup.png" alt="watcherlaunch" width="20%" height="20%">
		<li>Go to Profiles on the left side bar and you will see two profiles. Select <code>“Telstra”</code> and under APN (Access Point Name) 
			please rename this to <code>“telstra.extranet”</code> <strong>(ensure that it is typed lower case!)</strong> as shown in the diagram below. </li>
			<img src="./assets/images/SW_profiles.png" alt="profiles" width="50%" height="50%">
		<li>Go back to the homescreen and press <code>“connect”</code>. If the BigPond&#174; USB 4G dongle connects, then it is working.</li>
			<img src="./assets/images/watcher_connected.png" alt="connected" width="20%" height="20%">
		</ol>		
	</li>		
    <li>	 
		  <h3> <a name ="s6"> Git, and first steps with a GitHub account</a></h3>	  
		   
           <div class="alert alert-error">
           Our references and explanation are relative to the use of Git, and more specifically GitHub.  You should feel free to choose your favourite version control system. 
		   If you do choose to use GitHub, bear in mind that repositories in non-paid accounts are typically publicly visible, and this may not be what you want.  You may wish to look at the following <a href="https://github.com/edu"> page </a> which describes free plans for students.  
			</div>
		 <h4> Git </h4>  
         <p> We assume that you will have already been exposed to a version control system as part of your degree.  If not, you may wish to follow the <a href = "http://git-scm.com/docs/gittutorial">git tutorial</a>, which will assist you in understanding this widely used version control system.  The advantage of learning a system like this is that it greatly simplifies collaboration within your team. </p>   

		 <h4> GitHub </h4> 

         GitHub is a website which provides convenient online storage for git respositories.  The purpose of this section is to get you familiar with how to use GitHub to share code.  

		  <p> First go to the <a href= "https://GitHub.com/"> GitHub site</a>, and create a user account. </p>
		 
		  <img src="./assets/images/git_hub_homescreen.png" alt="git homescreen" width="50%" height="50%">
		  
		  <p> Now with a GitHub account setup let's start the tutorial. </p>
		  
		  <div class="alert alert-info">
				<p><strong>Perequisites:</strong> Internet connected computer running Windows, Mac or Linux. </p>
		  </div>
		  
		  <div class="alert alert-error">
		  <strong>Please Note:</strong> Before proceeding with these steps, ensure that you have permission to access this repository by sending the <a href ="mailto:telstrauniversitychallenge@team.telstra.com"> support team </a> your GitHub user ID. 
		  If you don't, you will get a page 404 error.
		  </div>
		  
		  <ol>
		  <li><b>Challenge - Fork</b></li>
			  <ul>
				<li>Visiting the link <a href= "https://github.com/telstra/m2m-university-challenge/"> https://github.com/telstra/m2m-university-challenge/ </a></li>
				<li>Clicking on the 'Fork' button at the top right of the screen. </li>
			  </ul>
			  The action of forking creates a copy of the example repository in your own workspace on GitHub.  You do not yet have a copy on your local machine.  That's the next step.  To do this; 
		  <li><b>Challenge - Clone</b></li>
			  <ul>
				<li>Navigate to your own copy of the example repository; It will show as YourUserName/example toward the top left of the screen.</li>
				<li>If you want to use the desktop client, click the Clone in Mac / Clone in Windows button.   This will prompt you to install the desktop client.   </li>
				<li>Run the desktop client, and enter your GitHub username and password.</li>
				<li>Select the example repository by navigating to your user account (under the heading GitHub) and clicking on the example repository to clone it.</li>
			  </ul>
		  <li><b>Challenge - Modify your local copy</b></li>
		  	<ul>
				<li>Once you have this cloned, view the repository, and click on "open in explorer" from the tools menu.   </li>
				<li>Use your favourite editor to add your name to the file.  </li>
				<li>Return to the GitHub client - it will now flag your changes as 'uncommitted changes', and offer you an option to see your changes by clicking 'Show'  Enter a commit message and description, then click commit. ' </li>
				<li>In the next screen, you will see that you have unsynced commits.    Click on the 'sync' button, which will cause a copy of your changes to be pushed back to GitHub. </li>
				<li>Navigate back to the repository page in GitHub. You will see that you now have a copy of the README in the respository which includes your name.  </li>
			  </ul>
		  <li><b>Challenge - Request a merge into the main Telstra repository</b></li>
		  	  <ul>
				<li>Click on the 'pull request' button. </li>
				<li>You should now see a form confirming that you'll be merging your change into the base repository telstra/example.</li>
				<li>Make sure you fill in a descriptive name for the pull request, and submit. </li>
			  </ul>
		  <li><b>Challenge - File an issue</b></li>
			 <ul>
				<li>Click on the Issue button from the Telstra repository homepage at <a href= "https://github.com/telstra/m2m-university-challenge/"> https://github.com/telstra/m2m-university-challenge/ </a> </li>
				<li>Select New Issue and fill in the template.    </li>
			  </ul>
		  </ol>
		  
	  </li>
	  <li>
	  <h3> <a name ="s7"> Attaching a RSA key to your GitHub account</a></h3>
          <p> You can conveniently identify yourself to GitHub by adding an RSA key to your account.  Generating a key is just a couple of steps: </p> 
<pre class="gutter: false">

pi@raspberrypi ~ $ ssh-keygen -b 4096 [press 'Enter' three times]

pi@raspberrypi ~ $ cat /home/pi/.ssh/id_rsa.pub

</pre>
			
		<p>To enable you to access GitHub without a password, simply paste the text that printed after you issued the above command into the SSH key section in GitHub.</p>
				<p> To do this, you perform the following steps:- </p>
				<ol>
				<li> Sign into your GitHub user account </li>
				<li> On the top right corner select <code> "Account Settings" </code></li>
				<li> On the left menu bar select <code>"SSH keys"</code></li>
				<li> While in this menu select <code>"Add SSH Keys"</code></li>
				<li> Insert "Name", and paste the contents of your <code>id_rsa key.pub</code> file into the "Key" field</li>
				<li> Select <code>"Add Key"</code> and logout</li>
				</ol>
	</li>
	<br>
	<p> If you haven't been included to the <a href ="https://GitHub.com/telstra/example.git"> https://GitHub.com/telstra/example.git </a> repository authorised user list please email our <a href="telstrauniversitychallenge@team.telstra.com">support team</a> and we will add you to give you permission to download the repository content.

	</ol>
	</ol>
</ol>

	<p style="font-size: x-medium; float:right;" ><i>Revision 2.0 Telstra M2M University Challenge 2013</i></p>
	
    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/bootstrap-transition.js"></script>
    <script src="assets/js/bootstrap-alert.js"></script>
    <script src="assets/js/bootstrap-modal.js"></script>
    <script src="assets/js/bootstrap-dropdown.js"></script>
    <script src="assets/js/bootstrap-scrollspy.js"></script>
    <script src="assets/js/bootstrap-tab.js"></script>
    <script src="assets/js/bootstrap-tooltip.js"></script>
    <script src="assets/js/bootstrap-popover.js"></script>
    <script src="assets/js/bootstrap-button.js"></script>
    <script src="assets/js/bootstrap-collapse.js"></script>
    <script src="assets/js/bootstrap-carousel.js"></script>
    <script src="assets/js/bootstrap-typeahead.js"></script>

    <!-- Run Syntax Highlighter --> 

    <script type="text/javascript"> SyntaxHighlighter.all() </script>




  </body>
</html>
